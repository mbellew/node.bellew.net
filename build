export eb=/opt/local/Library/Frameworks/Python.framework/Versions/2.7/bin/eb
export jsx=./node_modules/grunt-react/node_modules/.bin/jsx
export rt="nodejs ./node_modules/react-templates/bin/rt.js"
export tsc="nodejs ./node_modules/.bin/tsc"
export md="nodejs node_modules/marked/bin/marked"

mkdir dist 
mkdir dist/static
mkdir dist/server

# static files
cp src/static/*.html dist/static/
cp src/static/*.gif dist/static/
cp src/static/*.jpg dist/static/
cp src/static/*.js dist/static/
cp src/static/*.css dist/static/
 
# markdown
shopt -s nullglob
for f in src/*.md
do
    $md $f -o static/$(basename "$f" .md).html
done

#script and template files
$tsc src/static/bellew.ts -out dist/static/bellew.js
$rt src/static/templates/*.rt 
cat src/static/templates/*.rt.js >> dist/static/bellew.js
rm  src/static/templates/*.rt.js

$tsc src/server/server.ts -out dist/server/server.js
